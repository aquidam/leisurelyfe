<div class="recommendations-container filter-modal" data-controller="filter">
  <div class="filter-icon-container">
    <i class="fas fa-sliders-h filter-icon"></i>
  </div>

  <!-- Modal Structure -->
  <div class="modal" data-filter-target="modal">
    <div class="modal-content" data-filter-target="modalContent">
      <span class="close-button" data-action="click->filter#closeModal">&times;</span>
      <h2>Filter and Search</h2>

      <form action="/recommendations" method="get" data-filter-target="searchForm">
        <div class="input-group-recommendation">
          <label for="search-input">Search by name:</label>
          <input type="text" name="query" placeholder="Enter name" class="form-control-recommendation" data-filter-target="searchInput" id="search-input">
        </div>
        <div class="price-range-container">
          <h3>Price range</h3>
          <p>Nightly prices before fees and taxes</p>
          <input type="range" min="0" max="1000" value="0" class="range-slider" data-filter-target="priceRangeSlider">
          <div class="price-range-inputs">
            <input type="number" id="minPrice" name="min_price" placeholder="Min" data-filter-target="minPrice">
            <input type="number" id="maxPrice" name="max_price" placeholder="Max" data-filter-target="maxPrice">
          </div>
        </div>
        <button type="submit" class="btn-primary-recommendation">Search</button>
      </form>
    </div>
  </div>

  <h1 class="search-recommendation">Search Results</h1>
   <%= render 'pages/icons' %>
  <hr class="custom-hr">
  <h3 class="opacity-25 my-3">There are <%= @recommendations.count %> results</h3>

  <% if @recommendations.any? %>
    <% @recommendations.each do |recommendation| %>
      <%= render "card", recommendation: recommendation,  page: get_recommendation_card_page %>
    <% end %>
    <div class="container">
      <%= paginate @recommendations, theme: 'bootstrap-5',
                    pagination_class: "pagination-sm flex-wrap justify-content-center",
                    nav_class: "d-inline-block" %>
    </div>
  <% else %>
    <%= image_tag "unknown.jpg", height: "100%", width: "100%", style: "border-radius: 50%", class: "opacity-50" %>
  <% end %>

</div>
