<main>
  <!-- Search Section -->
  <section class="search">
    <div class="input-group">
      <i class="fas fa-calendar-alt"></i>
      <input type="text" placeholder="Select Date" class="input-date" id="date-picker">
    </div>
    <div class="input-group guests-group">
      <i class="fas fa-user-friends"></i>
      <input type="number" class="input-guests" value="1" min="1" readonly>
      <button class="button-minus">-</button>
      <button class="button-plus">+</button>
    </div>
    <%= form_with url: recommendations_path, method: :get, class: "form-with" do |f| %>
      <div class="input-group">
        <div class="checkbox-wrapper-61">
          <%= f.check_box :kid_friendly, class: 'check', id: 'check1-61' %>
          <label for="check1-61" class="label">
            <svg width="45" height="45" viewbox="0 0 95 95">
              <rect x="30" y="20" width="50" height="50" stroke="black" fill="none" />
              <g transform="translate(0,-952.36222)">
                <path d="m 56,963 c -102,122 6,9 7,9 17,-5 -66,69 -38,52 122,-77 -7,14 18,4 29,-11 45,-43 23,-4 " stroke="black" stroke-width="3" fill="none" class="path1" />
              </g>
            </svg>
            <span> Kids</span>
          </label>
        </div>
        <div class="checkbox-wrapper-61">
          <%= f.check_box :dog_friendly, class: 'check', id: 'check2-61' %>
          <label for="check2-61" class="label">
            <svg width="45" height="45" viewbox="0 0 95 95">
              <rect x="30" y="20" width="50" height="50" stroke="black" fill="none" />
              <g transform="translate(0,-952.36222)">
                <path d="m 56,963 c -102,122 6,9 7,9 17,-5 -66,69 -38,52 122,-77 -7,14 18,4 29,-11 45,-43 23,-4 " stroke="black" stroke-width="3" fill="none" class="path1" />
              </g>
            </svg>
            <span> with Dog?</span>
          </label>
        </div>
      </div>
      <div class="form-submit">
        <%= f.submit "Search", class: "search-button" %>
      </div>
    <% end %>
  </section>
  <%= render 'pages/icons' %>
  <!-- Recommendations Section -->
  <section class="custom-recommendations">
    <h2 class="custom-title-home-page">Top Picks of the Week</h2>
    <article class="custom-recommendation">
      <div class="custom-recommendation-image-container">
        <img src="https://media.timeout.com/images/105920964/1536/1152/image.webp" alt="Montreal" class="custom-recommendation-image">
        <div class="custom-review-label">
          <span class="custom-review-score">4.9</span> <span class="custom-review-star">★</span>
        </div>
        <div class="custom-recommendation-label">100% Recommended</div>
      </div>
      <div class="custom-recommendation-content">
        <h3 class="custom-recommendation-title">Montreal Casino</h3>
        <p>Summer starts its engines in Montréal this June — not only with the Grand Prix Formula 1 races but with a high-energy summer festival season. From MURAL to the Jazz Fest to the Francos...</p>
      </div>
    </article>
  </section>

    <section class="custom-recommendations">
    <h2 class="custom-title-home-page">Top Picks of the Week</h2>
    <article class="custom-recommendation">
      <div class="custom-recommendation-image-container">
        <img src="https://media.timeout.com/images/105460600/1536/1152/image.webp" alt="Montreal" class="custom-recommendation-image">
        <div class="custom-review-label">
          <span class="custom-review-score">4.9</span> <span class="custom-review-star">★</span>
        </div>
        <div class="custom-recommendation-label">100% Recommended</div>
      </div>
      <div class="custom-recommendation-content">
        <h3 class="custom-recommendation-title">Parc Jean-Drapeau</h3>
        <p>Summer starts its engines in Montréal this June — not only with the Grand Prix Formula 1 races but with a high-energy summer festival season. From MURAL to the Jazz Fest to the Francos...</p>
      </div>
    </article>
  </section>
</main>



<!-- Include Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- Include Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    flatpickr("#date-picker", {
      mode: "range",
      dateFormat: "F j, Y"
    });

    const minusButton = document.querySelector('.button-minus');
    const plusButton = document.querySelector('.button-plus');
    const inputGuests = document.querySelector('.input-guests');

    minusButton.addEventListener('click', function () {
      let value = parseInt(inputGuests.value);
      if (value > parseInt(inputGuests.min)) {
        value--;
        inputGuests.value = value;
      }
    });

    plusButton.addEventListener('click', function () {
      let value = parseInt(inputGuests.value);
      value++;
      inputGuests.value = value;
    });

    const iconContainer = document.querySelector('#icon-container');
    const leftArrow = document.querySelector('#left-arrow');
    const rightArrow = document.querySelector('#right-arrow');

    if (iconContainer) {
      iconContainer.addEventListener('scroll', () => {
        if (iconContainer.scrollLeft > 0) {
          leftArrow.classList.add('hidden');
        } else {
          leftArrow.classList.remove('hidden');
        }

        if (iconContainer.scrollLeft + iconContainer.clientWidth < iconContainer.scrollWidth) {
          rightArrow.classList.add('hidden');
        } else {
          rightArrow.classList.remove('hidden');
        }
      });
    }

    if (leftArrow && rightArrow) {
      leftArrow.addEventListener('click', () => {
        iconContainer.scrollBy({ left: -100, behavior: 'smooth' });
      });

      rightArrow.addEventListener('click', () => {
        iconContainer.scrollBy({ left: 100, behavior: 'smooth' });
      });
    }
  });
</script>